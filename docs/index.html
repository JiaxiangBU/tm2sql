<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Topic model to SQL • tm2sql</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Topic model to SQL">
<meta property="og:description" content="Translate topic model into SQL.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tm2sql</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="index_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="index_files/dagre-0.0.1/dagre.min.js"></script><script src="index_files/lodash-3.7.0/lodash.js"></script><script src="index_files/nomnoml-0.2.0/nomnoml.js"></script><script src="index_files/nomnoml-binding-0.1.0.9000/nomnoml.js"></script><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="tm2sql" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#tm2sql" class="anchor"></a>tm2sql</h1></div>
<!-- badges: start -->

<p>The goal of tm2sql is to translate topic model into SQL. I use it into production by impala successfully.</p>
<div id="htmlwidget-356e3d30c5f6c17c485a" style="width:100%;height:432.632880098888px;" class="nomnoml html-widget"></div>
<script type="application/json" data-for="htmlwidget-356e3d30c5f6c17c485a">{"x":{"code":"\n  #fill: #FEFEFF\n  #lineWidth: 1\n  #zoom: 4\n  #direction: right\n   \n#stroke: #a86128\n[<frame>tm2sql 实现过程|\n    [<abstract>Impala||RODBC::sqlQuery]\n    [<abstract>R||tm2sql]\n    [<abstract>SQL||tm2sql::calc_topic_score_sql]\n    [Impala] --> [R]\n    [R] --> [SQL]\n]\n","svg":false},"evals":[],"jsHooks":[]}</script><div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"JiaxiangBU/tm2sql"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tm2sql)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; -- Attaching packages ------------------------------------------------------------------------------- tidyverse 1.2.1 --</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; √ ggplot2 3.2.0     √ purrr   0.3.2</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; √ tibble  2.1.3     √ dplyr   0.8.2</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; √ tidyr   0.8.3     √ stringr 1.4.0</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; √ readr   1.3.1     √ forcats 0.4.0</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; Warning: 程辑包'ggplot2'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; Warning: 程辑包'tibble'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt; Warning: 程辑包'tidyr'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt; Warning: 程辑包'purrr'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#&gt; Warning: 程辑包'dplyr'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#&gt; Warning: 程辑包'stringr'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">#&gt; Warning: 程辑包'forcats'是用R版本3.5.3 来建造的</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co">#&gt; -- Conflicts ---------------------------------------------------------------------------------- tidyverse_conflicts() --</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">## basic example code</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">beta_df &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">dict =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"文本"</span>, <span class="st">"分析"</span>, <span class="st">"学习"</span>, <span class="st">"笔记"</span>),</a>
<a class="sourceLine" id="cb3-2" title="2">                      <span class="dt">loading =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>))</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw"><a href="reference/calc_topic_score_sql.html">calc_topic_score_sql</a></span>(beta_df, dict, loading)</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt;   dict loading</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; 1 文本     0.1</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; 2 分析     0.2</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; 3 学习     0.3</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; 4 笔记     0.4</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt;                                                          sql_text</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; 1 0.1 * length(regexp_replace(文本, "[^测试]",""))/length("测试")</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt; 2 0.2 * length(regexp_replace(分析, "[^测试]",""))/length("测试")</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt; 3 0.3 * length(regexp_replace(学习, "[^测试]",""))/length("测试")</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt; 4 0.4 * length(regexp_replace(笔记, "[^测试]",""))/length("测试")</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt; 0.1 * length(regexp_replace(文本, "[^测试]",""))/length("测试") + </span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt; 0.2 * length(regexp_replace(分析, "[^测试]",""))/length("测试") + </span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt; 0.3 * length(regexp_replace(学习, "[^测试]",""))/length("测试") + </span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt; 0.4 * length(regexp_replace(笔记, "[^测试]",""))/length("测试")</span></a></code></pre></div>
</div>
<div id="citations" class="section level2">
<h2 class="hasAnchor">
<a href="#citations" class="anchor"></a>Citations</h2>
<p>Jiaxiang Li. (2019, September 5). JiaxiangBU/tm2sql: tm2sql 0.1.0 (Version v0.1.0). Zenodo. <a href="http://doi.org/10.5281/zenodo.3386724" class="uri">http://doi.org/10.5281/zenodo.3386724</a></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><a class="sourceLine" id="cb4-1" title="1"><span class="va">@misc</span>{<span class="ot">jiaxiang_li_2019_3386724</span>,</a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="dt">author</span>       = {Jiaxiang Li},</a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">title</span>        = {JiaxiangBU/tm2sql: tm2sql 0.1.0},</a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="dt">month</span>        = <span class="st">sep</span>,</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="dt">year</span>         = 2019,</a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="dt">doi</span>          = {10.5281/zenodo.3386724},</a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="dt">url</span>          = {https://doi.org/10.5281/zenodo.3386724}</a>
<a class="sourceLine" id="cb4-8" title="8">}</a></code></pre></div>
<p>If you use tm2sql, I would be very grateful if you can add a citation in your published work. By citing tm2sql, beyond acknowledging the work, you contribute to make it more visible and guarantee its growing and sustainability. For citation, please use the BibTex or the citation content.</p>
<hr>
<h4 align="center">
<strong>Code of Conduct</strong>
</h4>
<h6 align="center">
Please note that the <code>tm2sql</code> project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>.<br>By contributing to this project, you agree to abide by its terms.
</h6>
<h4 align="center">
<strong>License</strong>
</h4>
<h6 align="center">
MIT © <a href="LICENSE.html">Jiaxiang Li</a>
</h6>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jiaxiang Li <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0003-3196-6492" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://zenodo.org/badge/latestdoi/206491593"><img src="https://zenodo.org/badge/206491593.svg" alt="DOI"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jiaxiang Li.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
